# Репликация.
Запустил три ноды командами:

>mongod --dbpath /home/mongo/db1 --bind_ip_all --port 27001 --replSet RS --fork --logpath /home/mongo/db1/db1.log --pidfilepath /home/mongo/db1/db1.pid
>
>mongod --dbpath /home/mongo/db2 --bind_ip_all --port 27002 --replSet RS --fork --logpath /home/mongo/db2/db2.log --pidfilepath /home/mongo/db2/db2.pid
>
>mongod --dbpath /home/mongo/db3 --bind_ip_all --port 27003 --replSet RS --fork --logpath /home/mongo/db3/db3.log --pidfilepath /home/mongo/db3/db3.pid

Проинициализировал репликасет:

>rs.initiate({"_id" : "RS", members : [{"_id" : 0, priority : 3, host : "127.0.0.1:27001"}, {"_id" : 1, host : "127.0.0.1:27002"}, {"_id" : 2, host : "127.0.0.1:27003", arbiterOnly : true}]});

После чего добавил один документ в коллекцию users и попытался прочесть его с SECONDARY базы.
![alt text](https://github.com/kot-mechanic/mongodb_otus/blob/main/screen/11111111111111111.png)

Прочесть не удалось, т.к. база не активирована для чтения.
Активировал командой rs.secondaryOk(), после чего смог найти свой документ.
![alt text](https://github.com/kot-mechanic/mongodb_otus/blob/main/screen/222222222222222222.png)
